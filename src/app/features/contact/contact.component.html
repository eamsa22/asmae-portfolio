<div class="contact-container"> 
    <h2>
        {{ 'contact.form.title' | translate }}
        <i class="fas fa-paper-plane "></i>
    </h2>
        <p class ="intro" [innerHTML]=" 'contact.form.intro' | translate "></p>
    <form [formGroup]="contactForm" (submit)="sendEmail($event)">
        <div class="form-group">
            <div class="input-group">
                <label for="name">{{ 'contact.form.name' | translate }}</label>
                <input type="text" id="name" formControlName="name" required />
                <p *ngIf="contactForm.controls['name'].invalid && contactForm.controls['name'].touched" class="error-message">
                    {{ 'contact.form.errors.name' | translate }}
                </p>
            </div>

            <div class="input-group">
                <label for="phone">{{ 'contact.form.phone' | translate }}</label>
                <input type="tel" id="phone" formControlName="phone" required />
                <p *ngIf="contactForm.controls['phone'].invalid && contactForm.controls['phone'].touched" class="error-message">
                    {{ 'contact.form.errors.phone' | translate }}
                </p>
            </div>
        </div>
        <div class="input-group">
            <label for="email">{{ 'contact.form.email' | translate }}</label>
            <input type="email" id="email" formControlName="email" required />
            <p *ngIf="contactForm.controls['email'].invalid && contactForm.controls['email'].touched" class="error-message">
                {{ 'contact.form.errors.email' | translate }}
            </p>    
        </div>
        <div class="input-group">
            <label for="message">{{ 'contact.form.message' | translate }}</label>
            <textarea id="message" formControlName="message" required></textarea>
            <p *ngIf="contactForm.controls['message'].invalid && contactForm.controls['message'].touched" class="error-message">
                {{ 'contact.form.errors.message' | translate }}
            </p>
        </div>
        <div *ngIf="isLoading" class="loading-container">
            <div class="spinner"></div>
            <p>Envoi en cours...</p>
        </div>
        <button type="submit" [disabled]="contactForm.invalid">
            {{ 'contact.form.send' | translate }}
        </button>
    </form>
</div>
<div *ngIf="successMessage" class="notification-box success">
    <i class="fas fa-check-circle"></i> {{ successMessage }}
</div>

<div *ngIf="errorMessage" class="notification-box error">
    <i class="fas fa-times-circle"></i> {{ errorMessage }}
</div>
